export default function useControllerWiring({
  state,
  actions,
  config,
}) {
  const {
    mode,
    setMode,
    onboardingPage,
    setOnboardingPage,
    user,
    signInEmail,
    setSignInEmail,
    signInLoading,
    savedUpcomingTrips,
    savedPastTrips,
    showPastSavedTrips,
    setShowPastSavedTrips,
    isAdminUser,
    tripData,
    builderStartTab,
    activePalette,
    tripConfig,
    isSharedCloudTrip,
    canCollaborateOnSharedTrip,
    copiedFrom,
    view,
    setView,
    filter,
    setFilter,
    showShareModal,
    setShowShareModal,
    canSaveSharedCopy,
    cloudSaving,
    canEditCurrentTrip,
    cloudSlug,
    cloudTripId,
    flights,
    days,
    filtered,
    showMaps,
    imgClass,
    selectedId,
    setSelectedId,
    dayBadges,
    selectedDay,
    toasts,
    showSignInModal,
    setShowSignInModal,
    showResetModal,
    setShowResetModal,
    showDeleteModal,
    setShowDeleteModal,
    cloudShareAccess,
    cloudOwnerEmail,
    collaboratorEmail,
    setCollaboratorEmail,
    collaboratorsLoading,
    collaborators,
    isViewOnly,
    setIsViewOnly,
    showMyTripsModal,
    setShowMyTripsModal,
    myTripsLoading,
    myTrips,
    cloudVisibility,
    setCloudVisibility,
    tripOwnerEmailsByTripId,
    showImportModal,
    setShowImportModal,
    importJson,
    setImportJson,
    importError,
    isCloudOwnedByCurrentUser,
  } = state;

  const {
    submitGoogleSignIn,
    submitSignIn,
    handleSignIn,
    handleSignOut,
    handleOpenCloudTrip,
    handleDeleteCloudTrip,
    handleStartFromTemplate,
    handleStartFromScratch,
    handleStartFromQuickTemplate,
    openImportModal,
    handleSaveAndPreview,
    handleCancelEdit,
    handleGoHome,
    handleReset,
    confirmDeleteCloudTrip,
    cancelDeleteCloudTrip,
    handleShare,
    handleSaveSharedCopy,
    handleEditTrip,
    confirmReset,
    handleFixIssue,
    currentShareURL,
    canCopyShareLink,
    copyShareLink,
    handleShareAccessChange,
    handleAddCollaborator,
    handleRemoveCollaborator,
    handleImportJson,
  } = actions;

  const { isSupabaseConfigured, quickTemplates, extractCoverImage, formatVisibilityLabel, publishIssues } = config;

  const overlayInputs = {
    toasts,
    showSignInModal,
    setShowSignInModal,
    isSupabaseConfigured,
    signInEmail,
    setSignInEmail,
    submitGoogleSignIn,
    submitSignIn,
    signInLoading,
    showResetModal,
    setShowResetModal,
    confirmReset,
    showDeleteModal,
    setShowDeleteModal,
    confirmDeleteCloudTrip,
    cancelDeleteCloudTrip,
    showShareModal,
    setShowShareModal,
    publishIssues,
    handleFixIssue,
    currentShareURL,
    canCopyShareLink,
    copyShareLink,
    user,
    cloudSaving,
    handleSignIn,
    cloudTripId,
    isCloudOwnedByCurrentUser,
    cloudShareAccess,
    handleShareAccessChange,
    collaboratorEmail,
    setCollaboratorEmail,
    handleAddCollaborator,
    collaboratorsLoading,
    collaborators,
    handleRemoveCollaborator,
    isViewOnly,
    setIsViewOnly,
    showMyTripsModal,
    setShowMyTripsModal,
    myTripsLoading,
    myTrips,
    savedUpcomingTrips,
    savedPastTrips,
    showPastSavedTrips,
    setShowPastSavedTrips,
    handleOpenCloudTrip,
    handleDeleteCloudTrip,
    extractCoverImage,
    formatVisibilityLabel,
    tripOwnerEmailsByTripId,
    cloudVisibility,
    setCloudVisibility,
    showImportModal,
    isAdminUser,
    importJson,
    setImportJson,
    importError,
    setShowImportModal,
    handleImportJson,
  };

  const screenInputs = {
    setMode,
    setOnboardingPage,
    user,
    isSupabaseConfigured,
    signInEmail,
    setSignInEmail,
    submitGoogleSignIn,
    submitSignIn,
    signInLoading,
    onboardingPage,
    handleSignOut,
    handleSignIn,
    savedUpcomingTrips,
    savedPastTrips,
    showPastSavedTrips,
    setShowPastSavedTrips,
    handleOpenCloudTrip,
    handleDeleteCloudTrip,
    extractCoverImage,
    formatVisibilityLabel,
    handleStartFromTemplate,
    handleStartFromScratch,
    quickTemplates,
    handleStartFromQuickTemplate,
    isAdminUser,
    openImportModal,
    tripData,
    handleSaveAndPreview,
    handleCancelEdit,
    handleGoHome,
    handleReset,
    builderStartTab,
    activePalette,
    tripConfig,
    isSharedCloudTrip,
    canCollaborateOnSharedTrip,
    cloudOwnerEmail,
    copiedFrom,
    view,
    setView,
    filter,
    setFilter,
    handleShare,
    setShowShareModal,
    canSaveSharedCopy,
    handleSaveSharedCopy,
    cloudSaving,
    canEditCurrentTrip,
    handleEditTrip,
    cloudSlug,
    cloudTripId,
    flights,
    days,
    filtered,
    showMaps,
    imgClass,
    selectedId,
    setSelectedId,
    dayBadges,
    selectedDay,
  };

  return {
    mode,
    overlayInputs,
    screenInputs,
  };
}
